<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Natal Solid√°rio - Comarca de S√£o Joaquim</title>
    
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üéÅ</text></svg>">

    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        christmas: {
                            red: '#D42426',
                            green: '#165B33',
                            gold: '#F8B229',
                            cream: '#F6F4F2'
                        }
                    }
                }
            }
        }
    </script>
    
    <style>
        body {
            background-color: #F6F4F2;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .snow-bg {
            background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCI+CjxnIHN0cm9rZT0iI0Q0MjQyNiIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBvcGFjaXR5PSIwLjEiPgo8Y2lyY2xlIGN4PSIyNSIgY3k9IjI1IiByPSIxIi8+CjwvZz4KPC9zdmc+');
        }
        .fade-enter-active, .fade-leave-active {
            transition: opacity 0.5s ease;
        }
        .fade-enter-from, .fade-leave-to {
            opacity: 0;
        }
        /* Loader */
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #D42426;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="snow-bg min-h-screen flex flex-col items-center">

    <div id="app" class="w-full max-w-4xl p-4">

        <header class="text-center mb-8 mt-4 bg-white p-6 rounded-xl shadow-lg border-t-4 border-christmas-red relative overflow-hidden">
            <div class="absolute top-0 right-0 p-2 opacity-10 text-christmas-green text-6xl transform rotate-12">
                <i class="fa-solid fa-tree"></i>
            </div>
            <div class="absolute top-0 left-0 p-2 opacity-10 text-christmas-red text-6xl transform -rotate-12">
                <i class="fa-solid fa-gift"></i>
            </div>
            
            <h1 class="text-3xl md:text-4xl font-bold text-christmas-red mb-2">
                <i class="fa-solid fa-star text-christmas-gold"></i> Natal Solid√°rio <i class="fa-solid fa-star text-christmas-gold"></i>
            </h1>
            <p class="text-gray-600 font-semibold text-lg">Comarca de S√£o Joaquim</p>
            <p class="text-sm text-gray-500 mt-1">Fa√ßa o natal de uma crian√ßa mais feliz!</p>
        </header>

        <div v-if="loading" class="fixed inset-0 bg-black bg-opacity-50 flex flex-col items-center justify-center z-50 text-white">
            <div class="loader mb-4"></div>
            <p>{{ loadingMessage }}</p>
        </div>

        <div v-if="notification.message" :class="`fixed top-4 right-4 p-4 rounded shadow-lg z-50 text-white ${notification.type === 'error' ? 'bg-red-600' : 'bg-green-600'}`">
            {{ notification.message }}
        </div>

        <transition name="fade" mode="out-in">
            <div v-if="currentScreen === 'login'" class="bg-white p-8 rounded-xl shadow-xl max-w-md mx-auto">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">Identifica√ß√£o</h2>
                
                <form @submit.prevent="handleLogin" class="space-y-4">
                    <div>
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="username">
                            Seu Nome Completo
                        </label>
                        <input v-model="userInput" id="username" type="text" placeholder="Digite seu nome aqui"
                            class="w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-christmas-red focus:border-transparent transition"
                            required>
                    </div>

                    <button type="submit" 
                        class="w-full bg-christmas-red hover:bg-red-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 shadow-md flex items-center justify-center gap-2">
                        <span>Entrar</span>
                        <i class="fa-solid fa-arrow-right"></i>
                    </button>
                </form>
            </div>
        </transition>

        <transition name="fade" mode="out-in">
            <div v-if="currentScreen === 'selection'" class="w-full">
                <div class="flex justify-between items-center mb-6">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800">Ol√°, {{ currentUser }}!</h2>
                        <p class="text-gray-600 text-sm">Escolha os presentes que deseja apadrinhar clicando no bot√£o abaixo do item.</p>
                    </div>
                    <div class="flex gap-2">
                        <button @click="goToSummary" class="bg-christmas-gold hover:bg-yellow-500 text-white font-bold py-2 px-4 rounded shadow">
                            <i class="fa-solid fa-list-check"></i> Meus Presentes
                        </button>
                        <button @click="logout" class="bg-gray-300 hover:bg-gray-400 text-gray-700 font-bold py-2 px-4 rounded shadow">
                            Sair
                        </button>
                    </div>
                </div>

                <div class="mb-6 flex flex-wrap gap-4 text-sm">
                    <div class="bg-white px-4 py-2 rounded-full shadow text-gray-600">
                        <i class="fa-solid fa-child text-christmas-green"></i> Crian√ßas: <b>{{ children.length }}</b>
                    </div>
                    <div class="bg-white px-4 py-2 rounded-full shadow text-gray-600">
                        <i class="fa-solid fa-gift text-christmas-red"></i> Presentes Dispon√≠veis: <b>{{ totalAvailableGifts }}</b>
                    </div>
                </div>

                <div v-if="children.length === 0" class="text-center py-12 bg-white rounded-xl shadow">
                    <i class="fa-regular fa-folder-open text-4xl text-gray-300 mb-2"></i>
                    <p class="text-gray-500">Nenhuma crian√ßa cadastrada ainda.</p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div v-for="child in children" :key="child.id" class="bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition duration-300 border border-gray-100">
                        <div class="bg-christmas-green p-3 flex justify-between items-center text-white">
                            <span class="font-bold text-lg"><i class="fa-solid fa-user"></i> {{ child.name }}</span>
                            <span class="bg-white text-christmas-green text-xs font-bold px-2 py-1 rounded-full">{{ child.age }} anos</span>
                        </div>
                        <div class="p-4">
                            <p class="text-xs text-gray-400 uppercase font-bold mb-2">Lista de Desejos:</p>
                            <ul class="space-y-3">
                                <li v-for="gift in child.gifts" :key="gift.id" class="border-b border-gray-100 pb-2 last:border-0 last:pb-0">
                                    <div class="flex justify-between items-start">
                                        <div :class="{'opacity-50 line-through': gift.status === 'taken'}">
                                            <i class="fa-solid fa-gift text-christmas-red mr-1"></i> {{ gift.description }}
                                        </div>
                                    </div>
                                    
                                    <div class="mt-2">
                                        <button v-if="gift.status === 'available'" 
                                            @click="adoptGift(child.id, gift.id)"
                                            class="w-full bg-christmas-red text-white text-xs font-bold py-1 px-2 rounded hover:bg-red-700 transition flex items-center justify-center gap-1">
                                            <i class="fa-regular fa-heart"></i> Eu quero doar!
                                        </button>
                                        
                                        <div v-else-if="gift.status === 'taken' && gift.donor !== currentUser" 
                                            class="w-full bg-gray-100 text-gray-400 text-xs font-bold py-1 px-2 rounded text-center cursor-not-allowed">
                                            <i class="fa-solid fa-lock"></i> Adotado por {{ gift.donor.split(' ')[0] }}
                                        </div>

                                        <div v-else-if="gift.status === 'taken' && gift.donor === currentUser" 
                                            class="w-full bg-green-100 text-green-700 text-xs font-bold py-1 px-2 rounded text-center border border-green-200">
                                            <i class="fa-solid fa-check-circle"></i> Escolhido por voc√™
                                            <button @click="returnGift(child.id, gift.id)" class="ml-2 text-red-500 hover:text-red-700 underline text-[10px]">
                                                (Cancelar)
                                            </button>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </transition>

        <transition name="fade" mode="out-in">
            <div v-if="currentScreen === 'summary'" class="bg-white p-8 rounded-xl shadow-xl max-w-2xl mx-auto">
                <div class="text-center mb-8">
                    <div class="inline-block p-4 rounded-full bg-green-100 mb-4">
                        <i class="fa-solid fa-sleigh text-4xl text-christmas-green"></i>
                    </div>
                    <h2 class="text-3xl font-bold text-gray-800">Obrigado, {{ currentUser }}!</h2>
                    <p class="text-gray-600 mt-2">Voc√™ est√° ajudando a tornar o Natal inesquec√≠vel.</p>
                </div>

                <div class="bg-christmas-cream p-6 rounded-lg border-l-4 border-christmas-gold mb-8">
                    <h3 class="font-bold text-gray-800 mb-2"><i class="fa-solid fa-circle-info text-christmas-gold"></i> Instru√ß√µes de Entrega</h3>
                    <p class="text-gray-700 mb-1">Por favor, entregue os presentes identificados com o nome da crian√ßa.</p>
                    <ul class="text-sm text-gray-600 space-y-1 mt-2">
                        <li><b>Local:</b> Secretaria do F√≥rum</li>
                        <li><b>Data Limite:</b> 19/12/2025</li>
                        <li><b>Hor√°rio Limite:</b> At√© √†s 14h</li>
                    </ul>
                </div>

                <h3 class="font-bold text-xl text-gray-800 mb-4 border-b pb-2">Seus Compromissos:</h3>
                
                <div v-if="myGifts.length > 0" class="space-y-4 mb-8">
                    <div v-for="(item, idx) in myGifts" :key="idx" class="flex items-center justify-between bg-gray-50 p-3 rounded shadow-sm">
                        <div>
                            <p class="font-bold text-christmas-red"><i class="fa-solid fa-gift"></i> {{ item.giftName }}</p>
                            <p class="text-sm text-gray-600">Para: <b>{{ item.childName }}</b> ({{ item.childAge }} anos)</p>
                        </div>
                        <i class="fa-solid fa-check text-green-500 text-xl"></i>
                    </div>
                </div>
                <div v-else class="text-center text-gray-500 italic mb-8">
                    Voc√™ ainda n√£o selecionou nenhum presente.
                </div>

                <div class="flex gap-4 justify-center">
                    <button @click="currentScreen = 'selection'" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-6 rounded-lg transition">
                        Voltar e Escolher Mais
                    </button>
                    <button @click="printSummary" class="bg-christmas-green hover:bg-green-800 text-white font-bold py-2 px-6 rounded-lg transition">
                        <i class="fa-solid fa-print"></i> Imprimir/Salvar
                    </button>
                </div>
            </div>
        </transition>

        <transition name="fade" mode="out-in">
            <div v-if="currentScreen === 'admin'" class="w-full bg-white p-6 rounded-xl shadow-xl">
                <div class="flex justify-between items-center mb-6 border-b pb-4">
                    <h2 class="text-2xl font-bold text-gray-800"><i class="fa-solid fa-gear"></i> Painel Administrativo</h2>
                    <button @click="logout" class="text-red-600 hover:text-red-800 font-bold text-sm">Sair</button>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    
                    <div class="lg:col-span-1 bg-gray-50 p-4 rounded-lg h-fit">
                        <h3 class="font-bold text-lg mb-4 text-christmas-green">Cadastrar Crian√ßa</h3>
                        <form @submit.prevent="addChild" class="space-y-3">
                            <div>
                                <label class="block text-xs font-bold text-gray-600">Nome da Crian√ßa</label>
                                <input v-model="newChild.name" type="text" class="w-full p-2 border rounded" required>
                            </div>
                            <div>
                                <label class="block text-xs font-bold text-gray-600">Idade</label>
                                <input v-model="newChild.age" type="number" class="w-full p-2 border rounded" required>
                            </div>
                            
                            <div class="border-t pt-2">
                                <label class="block text-xs font-bold text-gray-600 mb-1">Presentes (M√°x 3)</label>
                                <input v-model="newChild.gift1" type="text" placeholder="Presente 1 (Obrigat√≥rio)" class="w-full p-2 border rounded mb-2" required>
                                <input v-model="newChild.gift2" type="text" placeholder="Presente 2 (Opcional)" class="w-full p-2 border rounded mb-2">
                                <input v-model="newChild.gift3" type="text" placeholder="Presente 3 (Opcional)" class="w-full p-2 border rounded mb-2">
                            </div>

                            <button type="submit" class="w-full bg-christmas-green text-white font-bold py-2 rounded hover:bg-green-700">
                                Adicionar √† Lista
                            </button>
                        </form>
                    </div>

                    <div class="lg:col-span-2">
                        <h3 class="font-bold text-lg mb-4 text-gray-700 flex justify-between">
                            <span>Lista Atual ({{ children.length }})</span>
                            <div class="text-xs font-normal flex items-center gap-2">
                                <span class="bg-gray-100 px-2 py-1 rounded text-gray-400 font-mono">{{ blobId }}</span>
                            </div>
                        </h3>
                        
                        <div class="overflow-x-auto">
                            <table class="min-w-full bg-white text-sm">
                                <thead class="bg-gray-100 text-gray-600 uppercase text-xs">
                                    <tr>
                                        <th class="py-3 px-4 text-left">Nome</th>
                                        <th class="py-3 px-4 text-left">Presentes</th>
                                        <th class="py-3 px-4 text-center">A√ß√µes</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-gray-200">
                                    <tr v-for="child in children" :key="child.id" class="hover:bg-gray-50">
                                        <td class="py-3 px-4 font-medium">{{ child.name }} ({{ child.age }})</td>
                                        <td class="py-3 px-4">
                                            <div v-for="g in child.gifts" :key="g.id" class="mb-1 flex items-center gap-2">
                                                <span :class="g.status === 'taken' ? 'line-through text-gray-400' : 'text-gray-700'">
                                                    {{ g.description }}
                                                </span>
                                                <span v-if="g.status === 'taken'" class="text-xs bg-blue-100 text-blue-800 px-1 rounded">
                                                    (Doador: {{ g.donor }})
                                                </span>
                                                <button v-if="g.status === 'taken'" @click="resetGift(child.id, g.id)" class="text-xs text-red-400 hover:text-red-600" title="Remover doador">
                                                    <i class="fa-solid fa-xmark"></i>
                                                </button>
                                            </div>
                                        </td>
                                        <td class="py-3 px-4 text-center">
                                            <button @click="deleteChild(child.id)" class="text-red-500 hover:text-red-700 p-2">
                                                <i class="fa-solid fa-trash"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr v-if="children.length === 0">
                                        <td colspan="3" class="text-center py-4 text-gray-500">Nenhum registro encontrado.</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="mt-6 border-t pt-4 text-right">
                             <button @click="resetDatabase" class="text-xs text-red-400 hover:text-red-600 underline">
                                For√ßar Reset (Limpar Lista)
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </transition>

        <footer class="mt-8 text-center text-gray-500 text-xs pb-4">
            <p>&copy; 2025 Comarca de S√£o Joaquim - Campanha Natal Solid√°rio.</p>
        </footer>

    </div>

    <script>
        const { createApp, ref, computed, onMounted } = Vue;

        createApp({
            setup() {
                // =========================================================================
                // CONFIGURA√á√ÉO CORRETA DO BANCO DE DADOS (JSONBLOB)
                // =========================================================================
                // ID atualizado fornecido pelo usu√°rio
                const ID_DO_BANCO_COMPARTILHADO = "019b0f19-077c-73b4-aa3f-3a4df2c079ed";

                // URL base correta da API (sem /api/jsonBlob extra)
                const API_URL = 'https://api.jsonblob.com';

                // Estado da Aplica√ß√£o
                const currentScreen = ref('login');
                const currentUser = ref('');
                const userInput = ref('');
                const loading = ref(false);
                const loadingMessage = ref('');
                const notification = ref({ message: '', type: '' });
                
                // Dados Principais:
                const blobId = ref(ID_DO_BANCO_COMPARTILHADO);
                const children = ref([]);

                const newChild = ref({
                    name: '', age: '', gift1: '', gift2: '', gift3: ''
                });

                // --- M√©todos de Notifica√ß√£o ---
                const notify = (msg, type = 'success') => {
                    notification.value = { message: msg, type: type };
                    setTimeout(() => notification.value = { message: '', type: '' }, 3000);
                };

                // --- L√≥gica da API (JSONBlob) ---
                
                // Inicializa/Reseta o banco se ele n√£o existir
                const createInitialBlob = async () => {
                    loading.value = true;
                    loadingMessage.value = 'Configurando banco de dados inicial...';
                    
                    const initialData = []; // Come√ßa vazio ou com dados de exemplo se preferir

                    try {
                        // PUT na URL correta: https://api.jsonblob.com/{ID}
                        const putResponse = await fetch(`${API_URL}/${blobId.value}`, {
                            method: 'PUT',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(initialData)
                        });

                        if (putResponse.ok) {
                             children.value = initialData;
                             notify('Banco de dados conectado com sucesso!', 'success');
                        } else {
                            throw new Error('N√£o foi poss√≠vel inicializar o ID fixo. Status: ' + putResponse.status);
                        }
                    } catch (error) {
                        console.error(error);
                        notify('Erro de conex√£o inicial: ' + error.message, 'error');
                    } finally {
                        loading.value = false;
                    }
                };

                const fetchChildren = async () => {
                    loading.value = true;
                    loadingMessage.value = 'Sincronizando...';
                    
                    try {
                        // GET na URL correta: https://api.jsonblob.com/{ID}
                        const response = await fetch(`${API_URL}/${blobId.value}`);
                        
                        if (!response.ok) {
                            // Se 404, o blob com este ID ainda n√£o foi criado. Vamos criar.
                            if (response.status === 404) {
                                console.log("Blob n√£o encontrado, criando novo...");
                                await createInitialBlob();
                                return;
                            }
                            throw new Error('Falha ao buscar dados');
                        }
                        const data = await response.json();
                        children.value = data;
                    } catch (error) {
                        console.error(error);
                        notify('Erro ao buscar dados. Tente novamente.', 'error');
                    } finally {
                        loading.value = false;
                    }
                };

                const syncData = async () => {
                    if (!blobId.value) return;
                    
                    try {
                        // PUT na URL correta para atualizar
                        await fetch(`${API_URL}/${blobId.value}`, {
                            method: 'PUT',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(children.value)
                        });
                    } catch (error) {
                        console.error(error);
                        notify('Erro ao salvar na nuvem. Verifique sua conex√£o.', 'error');
                    }
                };

                // --- L√≥gica de Neg√≥cio ---

                const handleLogin = async () => {
                    if (!userInput.value.trim()) return;
                    currentUser.value = userInput.value.trim();
                    
                    await fetchChildren();

                    if (currentUser.value.toUpperCase() === 'ADMIN') {
                        currentUser.value = 'ADMIN'; // Normaliza
                        currentScreen.value = 'admin';
                    } else {
                        currentScreen.value = 'selection';
                    }
                };

                const adoptGift = async (childId, giftId) => {
                    // Recarrega antes de tentar adotar para evitar conflitos
                    await fetchChildren(); 

                    const child = children.value.find(c => c.id === childId);
                    if (child) {
                        const gift = child.gifts.find(g => g.id === giftId);
                        if (gift && gift.status === 'available') {
                            gift.status = 'taken';
                            gift.donor = currentUser.value;
                            
                            loading.value = true;
                            await syncData();
                            loading.value = false;
                            
                            notify(`Voc√™ adotou: ${gift.description}!`, 'success');
                        } else {
                            notify('Ops! Algu√©m acabou de pegar este presente.', 'error');
                        }
                    }
                };

                const returnGift = async (childId, giftId) => {
                    if(!confirm('Deseja realmente cancelar esta doa√ß√£o?')) return;
                    
                    // Recarrega para garantir integridade
                    await fetchChildren();

                    const child = children.value.find(c => c.id === childId);
                    if (child) {
                        const gift = child.gifts.find(g => g.id === giftId);
                        // Verifica se ainda √© o doador (seguran√ßa extra)
                        if (gift && gift.donor === currentUser.value) {
                            gift.status = 'available';
                            gift.donor = null;
                            
                            loading.value = true;
                            await syncData();
                            loading.value = false;
                            
                            notify('Doa√ß√£o cancelada.', 'success');
                        } else {
                            notify('Erro ao cancelar. Tente recarregar a p√°gina.', 'error');
                        }
                    }
                };

                const resetGift = async (childId, giftId) => {
                    const child = children.value.find(c => c.id === childId);
                    if (child) {
                        const gift = child.gifts.find(g => g.id === giftId);
                        gift.status = 'available';
                        gift.donor = null;
                        await syncData();
                    }
                };

                // --- L√≥gica Admin ---
                const addChild = async () => {
                    const gifts = [];
                    if (newChild.value.gift1) gifts.push({ id: Date.now(), description: newChild.value.gift1, status: 'available', donor: null });
                    if (newChild.value.gift2) gifts.push({ id: Date.now()+1, description: newChild.value.gift2, status: 'available', donor: null });
                    if (newChild.value.gift3) gifts.push({ id: Date.now()+2, description: newChild.value.gift3, status: 'available', donor: null });

                    const childObj = {
                        id: Date.now(),
                        name: newChild.value.name,
                        age: newChild.value.age,
                        gifts: gifts
                    };

                    children.value.push(childObj);
                    newChild.value = { name: '', age: '', gift1: '', gift2: '', gift3: '' };
                    
                    loading.value = true;
                    await syncData();
                    loading.value = false;
                    notify('Crian√ßa adicionada com sucesso!');
                };

                const deleteChild = async (id) => {
                    if(confirm('Tem certeza que deseja remover esta crian√ßa da lista?')) {
                        children.value = children.value.filter(c => c.id !== id);
                        await syncData();
                    }
                };

                const resetDatabase = async () => {
                    if(confirm('ATEN√á√ÉO: Isso limpar√° a lista para todos os usu√°rios. Continuar?')) {
                        children.value = [];
                        loading.value = true;
                        await syncData();
                        loading.value = false;
                        notify('Lista limpa.');
                    }
                }

                // --- Navega√ß√£o e Utilit√°rios ---
                const logout = () => {
                    currentUser.value = '';
                    userInput.value = '';
                    currentScreen.value = 'login';
                };

                const goToSummary = () => {
                    currentScreen.value = 'summary';
                };

                const printSummary = () => {
                    window.print();
                };

                const totalAvailableGifts = computed(() => {
                    let total = 0;
                    children.value.forEach(c => {
                        c.gifts.forEach(g => {
                            if (g.status === 'available') total++;
                        });
                    });
                    return total;
                });

                const myGifts = computed(() => {
                    const list = [];
                    children.value.forEach(c => {
                        c.gifts.forEach(g => {
                            if (g.donor === currentUser.value) {
                                list.push({
                                    childName: c.name,
                                    childAge: c.age,
                                    giftName: g.description
                                });
                            }
                        });
                    });
                    return list;
                });

                return {
                    currentScreen,
                    currentUser,
                    userInput,
                    loading,
                    loadingMessage,
                    children,
                    blobId,
                    newChild,
                    handleLogin,
                    adoptGift,
                    returnGift,
                    resetGift,
                    addChild,
                    deleteChild,
                    logout,
                    goToSummary,
                    myGifts,
                    totalAvailableGifts,
                    printSummary,
                    notification,
                    resetDatabase
                };
            }
        }).mount('#app');
    </script>
</body>
</html>
